// Fetch all post data from the backend API
async function fetchPostData() {
    try {
        const response = await fetch('http://localhost:3000/post'); // The backend API endpoint
        if (response.ok) {
            const postData = await response.json();

            // Loop through all posts and generate HTML for each one
            postData.forEach(post => {
                // Create a container div for each post
                const postContainer = document.createElement('div');
                postContainer.classList.add('post-container'); // Add a class for styling

                // Create and set the title
                const postTitle = document.createElement('h2');
                postTitle.innerText = post.title;

                // Create and set the image
                const postImage = document.createElement('img');
                postImage.src = post.image.src;
                postImage.alt = post.image.alt;
                postImage.width = post.image.width;
                postImage.height = post.image.height;

                // Create and set the content
                const postContent = document.createElement('p');
                postContent.innerText = post.content;

                // Create and set the post link
                const postLink = document.createElement('a');
                postLink.href = post.link;
                postLink.innerText = 'View Post';
                postLink.target = '_blank'; // Open the link in a new tab

                // Append the elements to the post container
                postContainer.appendChild(postTitle);
                postContainer.appendChild(postImage);
                postContainer.appendChild(postContent);
                postContainer.appendChild(postLink);

                // Append the post container to the body or a specific container in the HTML
                document.body.appendChild(postContainer);
            });
        } else {
            console.error('Failed to fetch post data');
        }
    } catch (error) {
        console.error('Error fetching data:', error);
    }
}

// Call the function to fetch and display the data
fetchPostData();
